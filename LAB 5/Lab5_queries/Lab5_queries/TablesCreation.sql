use Lab5;

CREATE TABLE Fakultet (
  AFak nvarchar(5) NOT NULL,
  NFak nvarchar(50) NOT NULL
);
INSERT INTO Fakultet VALUES
('ГН', 'Гуманитарные науки'),
('ЕН', 'Естественные науки'),
('ИТ', 'Информационные технологии'),
('ФМ', 'Физико-математический');


CREATE TABLE Kafedra (
  ShifrKaf nvarchar(5) NOT NULL,
  NKaf nvarchar(255) NOT NULL,
  AbFaK_Kaf nvarchar(5) NOT NULL
);
INSERT INTO Kafedra (ShifrKaf, NKaf, AbFaK_Kaf) VALUES
('BM', 'Высшая Математика', 'ен'),
('ИС', 'Информационные Системы', 'ит'),
('MM', 'Математическое Моделирование', 'фм'),
('ОФ', 'Общая Физика', 'ен'),
('ПМ', 'Прикладная Математика', 'ит'),
('ЭФ', 'Экспериментальная Физика', 'фм');


CREATE TABLE Sotrudnik (
TabNom int NOT NULL,
ShifrKaf_Sotr nvarchar(5) NOT NULL,
FIO nvarchar(50) NOT NULL,
Dolgn nvarchar(50) NOT NULL,
Zarplata money NOT NULL,
TabNom_ruk int NULL
);
INSERT INTO Sotrudnik (TabNom, ShifrKaf_Sotr, FIO, Dolgn, Zarplata, TabNom_ruk) VALUES
(101, 'пи', 'Прохоров', 'зав. кафедрой', 3500.00, 101),
(102, 'пи', 'Семенов', 'преподаватель', 2500.00, 101),
(105, 'пи', 'Петров', 'преподаватель', 2500.00, 101),
(153, 'пи', 'Сидорова', 'инженер', 1500.00, 102),
(201, 'ис', 'Андреев', 'зав. кафедрой', 3500.00, 201),
(202, 'ис', 'Борисов', 'преподаватель', 2500.00, 201),
(241, 'ис', 'Глухов', 'инженер', 2000.00, 201),
(242, 'ис', 'Чернов', 'инженер', 1500.00, 202),
(301, 'MM', 'Басов', 'зав. кафедрой', 3500.00, 301),
(302, 'MM', 'Сергеева', 'преподаватель', 2500.00, 301),
(401, 'оф', 'Волков', 'зав. кафедрой', 3500.00, 401),
(402, 'оф', 'Зайцев', 'преподаватель', 2500.00, 401),
(403, 'оф', 'Смирнов', 'преподаватель', 1500.00, 401),
(435, 'оф', 'Лисик', 'инженер', 2000.00, 402),
(501, 'BM', 'Кузнецов', 'зав. кафедрой', 3500.00, 501),
(502, 'BM', 'Романцев', 'преподаватель', 2500.00, 501),
(503, 'BM', 'Соловьев', 'преподаватель', 2500.00, 501),
(601, 'эф', 'Зверев', 'зав. кафедрой', 3500.00, 601),
(602, 'эф', 'Сорокина', 'преподаватель', 2500.00, 601),
(614, 'эф', 'Григорьев', 'инженер', 2000.00, 602);


CREATE TABLE Spezialn (
NSpez nvarchar(8) NOT NULL,
NaprSpez nvarchar(255) NOT NULL,
Shifr_Spez nvarchar(5) NOT NULL
);
INSERT INTO Spezialn (NSpez, NaprSpez, Shifr_Spez) VALUES
('01.03.04', 'Прикладная Математика', 'мм'),
('09.03.02', 'Информационные системы и технологии', 'ис'),
('14.03.02', 'Ядерная физика и технологии', 'иф'),
('38.03.05', 'Бизнес инфориатика', 'ис'),
('09.09.03', 'Прикладная информатика', 'пи');


CREATE TABLE Predmet(
kod_pred int NOT NULL,
Kol int NOT NULL,
Predmet nvarchar(50) NOT NULL,
Ispolnitel_kaf nvarchar(50) NOT NULL
);
INSERT INTO Predmet VALUES
(101, 320, 'Математика', 'вм'),
(102, 160, 'Информатика', 'пи'),
(103, 160, 'Физика', 'оф'),
(202, 120, 'База данных', 'ис'),
(204, 160, 'Электроника', 'эф'),
(205, 80, 'Программирование', 'пи'),
(209, 80, 'Моделирование', 'мм');


CREATE TABLE Zakaz(
N_Z nvarchar(8),
Kod_Z int
);
INSERT INTO Zakaz VALUES
('01.03.04',101),
('01.03.04',205),
('01.03.04',209),
('09.03.02',101),
('09.03.02',102),
('09.03.02',103),
('09.03.02',202),
('09.02.03',205),
('09.02.03',209),
('09.03.03',101),
('09.09.03',102),
('09.09.03',103),
('09.03.03',205),
('09.03.03',202),
('14.03.02',101),
('14.03.02',102),
('14.03.02',103),
('14.03.02',204),
('38.03.05',101),
('38.03.05',103),
('38.03.05',202),
('38.03.05',209);


CREATE TABLE ZavKaf (
  TabNom_K int,
  St_K int
);
INSERT INTO ZavKaf VALUES
(101, 15),
(201, 18),
(301, 20),
(401, 10),
(501, 18),
(601, 8);


CREATE TABLE Ingener (
  TabNom_IN int,
  Spez nvarchar(20)
);
INSERT INTO Ingener VALUES
(153, 'электроник'),
(241, 'электроник'),
(242, 'программист'),
(435, 'электроник'),
(614, 'программист');


CREATE TABLE Prepodavatel (
  TabNom_Pr int NOT NULL,
  Zvanie nvarchar(50) NULL,
  Stepen nvarchar(50) NULL,
);
INSERT INTO Prepodavatel VALUES
(101, 'профессор', 'д.т.н.'),
(102, 'доцент', 'к.ф.-м.н.'),
(105, 'доцент', 'к.т.н.'),
(201, 'профессор', 'д.ф.-м.н.'),
(202, 'доцент', 'к.ф.-м.н.'),
(301, 'профессор', 'д.т.н.'),
(302, 'доцент', 'к.т.н.'),
(401, 'профессор', 'д.т.н.'),
(402, 'доцент', 'к.т.н.'),
(403, 'ассистент', NULL),
(501, 'профессор', 'д.ф.-м.н.'),
(502, 'профессор', 'д.ф.-м.н.'),
(503, 'доцент', 'к.ф.-м.н.'),
(601, 'профессор', 'д.ф.-м.н.');


CREATE TABLE Student(
Reg_Nom int,
Nom_SpeZ_St nvarchar(8),
Fio_stud NVARCHAR(255)
);
INSERT INTO Student VALUES
(10101, '09.03.03', 'Николаева'),
(10102, '09.03.03', 'Иванов'),
(10103, '09.03.03', 'Крюков'),
(20101, '09.03.02', 'Андреев'),
(20102, '09.03.02', 'Федоров'),
(30101, '14.03.02', 'Бондаренко'),
(30102, '14.03.02', 'Цветков'),
(30103, '14.03.02', 'Петров'),
(50101, '01.03.04', 'Сергеев'),
(50102, '01.03.04', 'Кудрявцев'),
(80101, '38.03.05', 'Макаров'),
(80102, '38.03.05', 'Яковлев');


CREATE TABLE Ozenka (
    data date NULL,
    Kod int NULL,
    ReGNom int NULL,
    Tab_Nom int NULL,
    Auditoria nvarchar(50) NULL,
    Ozenk_a int NULL
);
INSERT INTO Ozenka VALUES
('2022-06-05', 102, 10101, 102, 'т505', 4),
('2022-06-05', 102, 10102, 102, 'т505', 4),
('2022-06-05', 202, 20101, 202, 'т506', 4),
('2022-06-05', 202, 20102, 202, 'т506', 3),
('2022-06-07', 102, 30101, 105, 'ф419', 3),
('2022-06-07', 102, 30102, 101, 'т506', 4),
('2022-06-07', 102, 80101, 1002, 'м425', 5),
('2022-06-09', 205, 80102, 402, 'м424', 4),
('2022-06-09', 209, 20101, 302, 'ф333', 3),
('2022-06-10', 101, 10102, 501, 'т506', 4),
('2022-06-10', 204, 30102, 601, 'ф349', 5),
('2022-06-10', 209, 80101, 301, 'э105', 5),
('2022-06-10', 209, 80102, 301, 'э105', 4),
('2022-06-12', 101, 80101, 502, 'c324', 4),
('2022-06-15', 101, 30101, 503, 'ф417', 4),
('2022-06-15', 101, 50101, 501, 'ф201', 5),
('2022-06-15', 101, 50102, 501, 'ф201', 3),
('2022-06-15', 103, 10101, 403, 'ф414', 4),
('2022-06-15', 102, 10101, 102, 'т505', 5);